#!/bin/bash
# vim: set syntax=bash

set -euo pipefail

usage() {
    echo "Usage: $(basename $0) <image>"
}

if (( $# < 1 ));
then
    usage
    exit 0
fi

image=$1

docker run --rm -it \
    -v $(pwd):/workspace \
    -v ${HOME}/.ssh/id_ed25519:/home/builder/.ssh/id_ed25519 \
    -v ${HOME}/.ssh/id_ed25519.pub:/home/builder/.ssh/id_ed25519.pub \
    -v ${HOME}/configs/_ssh/config:/home/builder/.ssh/config \
    --network host \
    ${image} \
    /bin/bash
