# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod3

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 11

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# define monitors for the workspaces: the first x go to the big screen, the others to the small screen
workspace 1 output DP2-3 HDMI2 eDP1
workspace 2 output DP2-3 HDMI2 eDP1
workspace 3 output DP2-3 HDMI2 eDP1
workspace 4 output DP2-3 HDMI2 eDP1
workspace 5 output DP2-3 HDMI2 eDP1
workspace 6 output DP2-2 HDMI2 eDP1
workspace 7 output DP2-2 HDMI2 eDP1
workspace 8 output DP2-2 eDP1
workspace 9 output DP2-2 eDP1

mode "window" {
    # change focus
    bindsym j focus down; mode "default"
    bindsym k focus up; mode "default"
    bindsym h focus left; mode "default"
    bindsym l focus right; mode "default"

    bindsym u focus parent; mode "default"
    bindsym i focus child; mode "default"

    # enter fullscreen mode for the focused container
    bindsym f fullscreen toggle; mode "default"

    # move focused window
    bindsym Shift+j move down; mode "default"
    bindsym Shift+k move up; mode "default"
    bindsym Shift+h move left; mode "default"
    bindsym Shift+l move right; mode "default"

    # move to workspace
    bindsym n workspace next; mode "default"
    bindsym p workspace prev; mode "default"

    # move container to workspace and follow
    bindsym Shift+n move container to workspace next; workspace next; mode "default"
    bindsym Shift+p move container to workspace prev; workspace prev; mode "default"

    # move focused container to workspace and switch to it
    bindsym Shift+1 move container to workspace 1; workspace 1; mode "default"
    bindsym Shift+2 move container to workspace 2; workspace 2; mode "default"
    bindsym Shift+3 move container to workspace 3; workspace 3; mode "default"
    bindsym Shift+4 move container to workspace 4; workspace 4; mode "default"
    bindsym Shift+5 move container to workspace 5; workspace 5; mode "default"
    bindsym Shift+6 move container to workspace 6; workspace 6; mode "default"
    bindsym Shift+7 move container to workspace 7; workspace 7; mode "default"
    bindsym Shift+8 move container to workspace 8; workspace 8; mode "default"
    bindsym Shift+9 move container to workspace 9; workspace 9; mode "default"

    # leave mode
    bindsym Escape mode "default"
    bindsym Return mode "default"
}

mode "resize" {
    bindsym j resize grow height 10 px or 10 ppt
    bindsym k resize shrink height 10 px or 10 ppt
    bindsym l resize grow width 10 px or 10 ppt
    bindsym h resize shrink width 10 px or 10 ppt

    # leave mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "layout" {
    bindsym t layout tabbed; mode "default"
    bindsym s layout toggle split; mode "default"

    bindsym Shift+s split toggle; mode "default"

    # leave mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "keyboard" {
    bindsym e exec --no-startup-id "xmodmap ~/.Xmodmap_en"; mode "default"
    bindsym d exec --no-startup-id "xmodmap ~/.Xmodmap_de"; mode "default"

    # leave mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "i3" {
    # reload the configuration file
    bindsym c reload; mode "default"

    # restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
    bindsym r restart; mode "default"

    # leave mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "system" {
    # lock screen
    bindsym l exec --no-startup-id "i3lock -c 000000"; mode "default"

    # exit i3
    bindsym e exec --no-startup-id "i3-msg exit"; mode "default"

    # reboot
    bindsym r exec --no-startup-id "systemctl reboot"; mode "default"

    # sleep
    bindsym s exec --no-startup-id "i3lock -c 000000 && systemctl suspend"; mode "default"

    # shutdown
    bindsym Shift+s exec --no-startup-id "systemctl poweroff"; mode "default"

    # leave mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# mode to move the mouse
# currently disabled, but we might want it at some point
mode "mouse" {
    # normal
    bindsym k exec xdotool mousemove_relative -- 0 -30
    bindsym j exec xdotool mousemove_relative -- 0 30
    bindsym l exec xdotool mousemove_relative -- 30 0
    bindsym h exec xdotool mousemove_relative -- -30 0
    # faster(x2)
    bindsym Shift+k exec xdotool mousemove_relative -- 0 -60
    bindsym Shift+j exec xdotool mousemove_relative -- 0 60
    bindsym Shift+l exec xdotool mousemove_relative -- 60 0
    bindsym Shift+h exec xdotool mousemove_relative -- -60 0
    # top/bottom
    bindsym g exec xdotool mousemove_relative -- 0 -9999
    bindsym Shift+g exec xdotool mousemove_relative -- 0 9999
    # click
    bindsym Return exec xdotool click 1  # left click
    bindsym Shift+Return exec xdotool click 2  # middle click
    bindsym Ctrl+Return exec xdotool click 3  # right click
    # exit mode
    bindsym Escape mode "default"
}

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9

# move workspace to other monitors
bindsym $mod+Shift+u move workspace to output up
bindsym $mod+Shift+d move workspace to output down

# start dmenu (a program launcher)
bindsym $mod+Shift+e exec dmenu_run
#bindsym $mod+e exec --no-startup-id i3-dmenu-desktop
bindsym $mod+e exec --no-startup-id /home/bobbel/bin/run-rofi

# fix a bug in i3: https://github.com/i3/i3/issues/3528
# simply refocus the launched window
bindsym $mod+t exec termite; focus parent; focus child

bindsym $mod+w mode "window"
bindsym $mod+r mode "resize"
bindsym $mod+k mode "keyboard"
bindsym $mod+s mode "system"
bindsym $mod+l mode "layout"
bindsym $mod+i mode "i3"

bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMute exec --no-startup-id amixer -q -D pulse sset Master toggle && pkill -RTMIN+1 i3blocks

bindsym XF86MonBrightnessUp exec --no-startup-id "~/bin/adjust-brightness increase 100"
bindsym XF86MonBrightnessDown exec --no-startup-id "~/bin/adjust-brightness decrease 100"

# kill window
bindsym $mod+q kill

bindsym $mod+m exec --no-startup-id "~/bin/configure-monitors"

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# send caps lock events to i3blocks so we can visualize it
bindsym --release Caps_Lock exec pkill -SIGRTMIN+11 i3blocks

bar {
    status_command i3blocks
}

gaps inner 5

# special window actions
for_window [title="Git Gui"] floating enable
for_window [id="0x3800062"] floating enable
for_window [title="gitk"] floating enable
for_window [id="0x1a00007"] floating enable
#for_window [class=".*"] border pixel 0
